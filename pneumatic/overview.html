<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Current State &mdash; Pneumatic.IO Reference Guide</title>
    
    <link rel="stylesheet" href="_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Pneumatic.IO Reference Guide" href="index.html" />
    <link rel="next" title="Filters" href="filters.html" />
    <link rel="prev" title="Getting Involved" href="getting-involved.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="http://pneumatic.io">Pnematic.IO Home</a></li>
    <li><a href="https://github.com/objectuser/pneumatic">Get it on GitHub</a></li>
    <li><a href="index.html">Docs Home</a></li>
  </ul>
  <div>
    <a href="index.html">
      <img src="_static/banner.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="filters.html" title="Filters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="getting-involved.html" title="Getting Involved"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Sphinx home</a>&nbsp;|</li>
        <li><a href="contents.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Current State</a></li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#concepts">Concepts</a><ul>
<li><a class="reference internal" href="#jobs-and-filters">Jobs and Filters</a><ul>
<li><a class="reference internal" href="#running-a-job">Running a Job</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schemas">Schemas</a><ul>
<li><a class="reference internal" href="#schema-types">Schema Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pipes">Pipes</a></li>
<li><a class="reference internal" href="#foundations">Foundations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="getting-involved.html"
                        title="previous chapter">Getting Involved</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="filters.html"
                        title="next chapter">Filters</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/overview.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="current-state">
<h1>Current State<a class="headerlink" href="#current-state" title="Permalink to this headline">¶</a></h1>
<p>Pneumatic is in the &#8220;proof of concept&#8221; stage of development. It can already do very useful things, but I recommend you be conservative in your uses of it. With your feedback, however, it should progress to wider usage scenarios quickly. I encourage you to try it out and provide your feedback on the official forum.</p>
</div>
<div class="section" id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p>Pneumatic is licensed under the <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public License</a>. To acquire Pneumatic under a different license, contact <a class="reference external" href="http://www.surgingsystems.com">Surging Systems</a>.</p>
</div>
<div class="section" id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="jobs-and-filters">
<h2>Jobs and Filters<a class="headerlink" href="#jobs-and-filters" title="Permalink to this headline">¶</a></h2>
<p>Pneumatic &#8220;programs&#8221; are represented as &#8220;jobs&#8221;. Jobs read from files, from databases, from services and write to those same things. They transform data, join it, filter it, aggregate it and more.</p>
<p>The reading, writing, transforming, etc. are done in &#8220;filters&#8221;. Filters are connected through pipes that carry the data from one filter to the next. This <a class="reference external" href="http://www.eaipatterns.com/PipesAndFilters.html">pipes and filters</a> architecture is widely-known. It&#8217;s conceptually simple, yet quite powerful, and is the fundamental pattern of Pneumatic jobs.</p>
<p>It looks a bit like this:</p>
<img alt="_images/architecture.png" src="_images/architecture.png" />
<p>Scale this out with more pipes connecting more filters and you get the picture of the architecture of Pneumatic.IO. Simple concepts form powerful jobs.</p>
<p>These concepts are fundamental, but the words &#8220;job&#8221; and &#8220;filter&#8221; don&#8217;t often appear in Pneumatic configurations. But as we discuss Pneumatic in this guide, we will use those terms, so you still need to understand them.</p>
<div class="section" id="running-a-job">
<h3>Running a Job<a class="headerlink" href="#running-a-job" title="Permalink to this headline">¶</a></h3>
<p>Jobs may be run in a variety of ways. The easiest way to run a job is using the &#8220;Pneumatic Shell&#8221; (<code class="docutils literal"><span class="pre">pn.sh</span></code> on most systems or <code class="docutils literal"><span class="pre">pn.cmd</span></code> on Windows). The file <code class="docutils literal"><span class="pre">pn.sh</span></code> is in the <code class="docutils literal"><span class="pre">pneumatic-samples</span></code> project on <a class="reference external" href="https://github.com/objectuser/pneumatic">GitHub</a>.</p>
<p>If your job is contained in <code class="docutils literal"><span class="pre">job.xml</span></code>, run it like this:</p>
<div class="highlight-python"><div class="highlight"><pre>sh pn.sh run job.xml
</pre></div>
</div>
<p>If you have, for example, RESTful services provided by your job, use the Spring Boot runner:</p>
<div class="highlight-python"><div class="highlight"><pre>sh pn.sh boot job.xml
</pre></div>
</div>
<p>The boot runner will stay resident until Spring Boot shuts down.</p>
<p>From these examples, it&#8217;s obvious that Pneumatic requires Java. Pneumataic is currently compiled to Java 8.</p>
<p>Using the script is easy, but it does quite a few things. The script uses <a class="reference external" href="http://gradle.org/">Gradle</a> to:</p>
<ol class="arabic simple">
<li>download the latest version of Gradle</li>
<li>compile Pneumatic.IO</li>
<li>run the job</li>
</ol>
<p>The first two are only done if necessary: if Gradle has already been downloaded, or Pnematic is already built, it won&#8217;t do these things again.</p>
<p>Gradle and Pnematic.IO are both dependent on a Java runtime on your system. Pneumatic is currently compiled to Java 8.</p>
</div>
</div>
<div class="section" id="schemas">
<h2>Schemas<a class="headerlink" href="#schemas" title="Permalink to this headline">¶</a></h2>
<p>Schemas describe the structure of data. Filters use schemas for validating and generating structured data in the form of &#8220;records&#8221;. A record may be thought of as an &#8220;instance&#8221; of a schema. A schema is to a record like a car is to a 2015 Porsche 911.</p>
<p>From the previous example, a schema is defined using the <code class="docutils literal"><span class="pre">etl:schema</span></code> tag. A schema may have one to any number of columns, each with a name and a type. Currently, Pneumatic only supports <code class="docutils literal"><span class="pre">string</span></code> (Java String), <code class="docutils literal"><span class="pre">integer</span></code> (Java Integer) and <code class="docutils literal"><span class="pre">decimal</span></code> (Java Double) column types.:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;etl:schema id=&quot;mtbSchema&quot; name=&quot;MTB Schema&quot;&gt;
        &lt;etl:column name=&quot;name&quot; type=&quot;string&quot; /&gt;
        &lt;etl:column name=&quot;year&quot; type=&quot;integer&quot; /&gt;
        &lt;etl:column name=&quot;cost&quot; type=&quot;decimal&quot; /&gt;
&lt;/etl:schema&gt;
</pre></div>
</div>
<p>If a record does not need to be validated or generated, no schema is required by the filter. An example of this is the copy filter which copies the input records to the configured outputs, unmodified.</p>
<p>Sometimes a schema is optional. If the schema is not provided, information is derived from other configuration or runtime elements (like the structure of the incoming record). If the schema is supplied, it can be used to validate the configuration of the filter. This requires slightly more configuration, but schema information in validated before a job starts, so supplying a schema can save time spent processing with an invalid configuration.</p>
<div class="section" id="schema-types">
<h3>Schema Types<a class="headerlink" href="#schema-types" title="Permalink to this headline">¶</a></h3>
<p>There are three types of schemas:</p>
<ul class="simple">
<li>Tabular schemas - (<code class="docutils literal"><span class="pre">etl:schema</span></code>) represent traditional (i.e., database like) schemas with fixed columns and data types.</li>
<li>XML schemas (experimental) - (<code class="docutils literal"><span class="pre">etl:xmlSchema</span></code>) represent schemas for XML documents based on the XML Schema Definition. XML schemas work in some cases but are experimental at this point.</li>
<li>JSON schemas (experimental) - (<code class="docutils literal"><span class="pre">etl:jsonSchema</span></code>) represent schemas for JSON documents based on <a class="reference external" href="http://json-schema.org/">http://json-schema.org/</a>.</li>
</ul>
</div>
</div>
<div class="section" id="pipes">
<h2>Pipes<a class="headerlink" href="#pipes" title="Permalink to this headline">¶</a></h2>
<p>Pipes are conduits for data. Pipes hold data after it is processed by a filter, until it is extracted by another filter. Pipes have a fixed (and configurable) capacity. When the capacity is reached, a filter putting a record into a pipe will block until the filter on the other end of the pipe removes a record.</p>
</div>
<div class="section" id="foundations">
<h2>Foundations<a class="headerlink" href="#foundations" title="Permalink to this headline">¶</a></h2>
<p>Pneumatic leverages <a class="reference external" href="http://spring.io/">Spring</a> projects whenever possible, and that&#8217;s quite often. There are areas where Pneumatic diverges from some frameworks like <a class="reference external" href="http://projects.spring.io/spring-batch/">Spring Batch</a>. In the future, it is possible that Pneumatic will be more closely aligned with this project and possibly others.</p>
<p>There are enormous benefits from leveraging Spring. Some of these are:</p>
<ul class="simple">
<li>The use of quality, tested frameworks and components that don&#8217;t have to be reinvented.</li>
<li>The extensible XML markup that makes for an easy to use DSL while enabling massive extensibility.</li>
<li>The ability to extend the framework by creating Spring beans and wiring them to ETL components.</li>
<li>The ability to test portions of a job in a way that more closely aligns with traditional unit testing.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="filters.html" title="Filters"
             >next</a> |</li>
        <li class="right" >
          <a href="getting-involved.html" title="Getting Involved"
             >previous</a> |</li>
        <li><a href="index.html">Sphinx home</a>&nbsp;|</li>
        <li><a href="contents.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Kevin Lewis.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b2.
    </div>
  </body>
</html>